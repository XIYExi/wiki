#  [Component] 构件

## 构件五要素，构件模型

### 构件五要素：

构件标准：符合某种构件模型

规格说明：构件提供服务的抽象描述，用作服务的使用方和提供方之间的契约

实现：必须符合规格说明，各自实现（代码要写好）

包装方式：按照不同的方式分组来实现一套可以替换的服务（包），可在构件支持环境中注册

部署方法：构件可以部署多个实例

**构件模型**是对构件本质特征和构件间关系的抽象描述。构件模型将构件类型、构件形态和表示方法标准化，
使得构件可以在外部环境在一致的概念下被观察和使用。

**构件模型的基本原则**：表达能力足够强。模型是对客观对象的抽象，必须既能抓住本质，又不陷入细节；
既要有足够的表达能力，又不能过于复杂。简单性、一致性和完备性。构件模型必须具有对内的一致性和对外的完备性。
实用性、拓展性。构件模型的构成：构件接口（用来描述一个构件所能提供服务的集合，是构件之间联系的桥梁）
和构件实现（是构件的代码实现体，是计算机可识别的、实现构件具体功能的代码）。

## 构件评估，构件接口，构件概念

### 构件定义

- **构件是预先创建的**。 
  - 源代码复用代价高，最好预先创建。 
  - 应用集成中复用方式是无法预料的。（提前创建好构件建立统一的规则） 
  - 可维护性要求构件成分间的界限可以更加明确。（维护成本高，这样便于维护） 
  - 在开发过程中，适用于渐进的开发方式。（软件一部分一部分叠加）

- **构件是黑盒的**。它的内部结构进行了良好的封装，并通过接口提供服务（这需要有接口的规范说明书）。
- **构件是可分离的**。构件的封装体现了构件内部的**高内聚**和构件之间的**低耦合**特性，使得**其他构件无需了解其内部知识**，便可以方便地与其一起工作。
- **构件能用于组装和部署**。构件组装在编译之后，构件部署在组装之后，也有在运行时组装的。
- **构件需要构件容器的支持**。
  - 构件容器：提供支持构件的运行时环境，提供组装和部署工具。

即构件为：可执行程序的一个可分离单元；只能通过其接口来访问它的服务；必须能得到其接口的实现细节；
可以与其他构件实现互操作；需要某种环境的支持；在进行了必要的组装和配置过程后，才能以接口规定的方式来使用。

### 构建接口

#### 构件接口的简单理解

构件接口是对具有共同目标的服务的划分。客户程序可以使用一个接口中的部分或全部服务。

不同构件模型的接口是有差别的。

#### 构件接口的重要性

1. 接口描述了客户端如何与构件进行交互，同时隐藏了底层的实现细节。

2. 接口信息是潜在客户判断构件是否满足需求的主要依据。

3. 定义良好的接口会促进构件开发商之间的竞争。

4. 好的接口有利于灵活设计方式的建立。


#### 接口建立依据和原则

1. 只有通过对关键活动对象行为的理解才能构建出有用的接口。

2. 需要对系统行为进行抽象：定义独立的服务和描述他们之间的协作关系等。
3. 可以将领域模型中的对象以及协作关系，与以及定义好的接口规范说明相对照。当接口用于领域模型中时，接口之间的交互协议必须在领域模型中更为精确地表示出来。

#### 构件接口可以分为两类

1. 构件提供给外部使用的接口，即功能规约（function specification）
2. 构件用到的外部接口即接入点（entry point）


**什么是构件接口，在软件构件模型中如何定义其接口**。构件是一组代码，如程序的模块；
也可以是一个独立的程序（如数据库的MySQL服务器），接口（interface）：每个元素有一个接口。定义灵活易用
的构件接口是构件复用的关键技术，它是构件开发人员和组装人员共同遵守的契约。

构件接口的定义可采取下列基本原则：

1. 定义一些不变的接口
这些接口确保，当有改动发生时，可以定义新的接口，而现有的接口仍然可以继续工作。

2. 定义自描述的接口
一般采用XML，用户可以获取其感兴趣的参数而忽略其他参数。

3. 定义元数据性质的接口
也就是将描述接口的元数据保存在数据库中，便于用户查询。

4. 构件设计成可定制的
构件设计成可定制的，需采用以下技术：```委托技术、参数化/拓展点技术、继承和模板技术```等。
